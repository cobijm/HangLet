<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>HangLet Testing</title>
  <link rel="stylesheet" href="hangLetTesting.css">
  <script src="./hangLetTesting.js"></script>
</head>

<body>
<h1>
HangLet Tests
</h1>
<ul id="output"></ul>
<script>
var words = [

"glossy",
"birth",
"elite",
"racket",
"challenge",
"swim",
"wont",
"click",
"victory",
"fancy"

]
 wordsLength =0;
 arrayOfAlpha =[];
function newWords() {
	
  var randomNumber = Math.floor(Math.random() * (words.length));
	document.getElementById('wordsGenerated').innerHTML = words[randomNumber];

	wordsLength = words[randomNumber].length;
	
  //  var arrayOfAlpha = [];
	while(wordsLength !=0)
	{
	 arrayOfAlpha.push("_ ");
	wordsLength--;
		
	}
}
assert(wordsLength==arrayOfAlpha.length,"Single Player: Check if generated word length equal to the length of given characters.");
</script>

<script>
p1Words="";
p2Words="";
words = [

"glossy",
"birth",
"elite",
"racket",
"challenge",
"swim",
"wont",
"click",
"victory",
"fancy"

] 
randomNumber = Math.floor(Math.random() * (words.length));
 
function continueToMultiplayer() {
	get2PlayersWords();
}

 p1Words = words[randomNumber];
 p2Words = words[randomNumber];
 
function get2PlayersWords() {
	localStorage.setItem("p1WordsKey", p1Words);
	localStorage.setItem("p2WordsKey", p2Words);
}
wordsLength=0;
arrayOfAlpha=[];
function p1GuessWords() {
	var p2Words = localStorage.getItem("p1WordsKey");
	 wordsLength = p2Words.length;

	
	while(wordsLength !=0)
	{
	 arrayOfAlpha.push("_ ");
	wordsLength--;
	}
	return p2Words;
}
assert(wordsLength==arrayOfAlpha.length,"MultiPlayer: Player1: Check if generated word length equal to the length of given characters.");
assert(p1GuessWords()==localStorage.getItem("p1WordsKey"),"MultiPlayer: Test localStorage & Check player1 hiden word.");

wordsLength2=0;
arrayOfAlpha2=[];
function p2GuessWords() {
		var p1Words = localStorage.getItem("p2WordsKey");
	wordsLength2 = p2Words.length;

	
	while(wordsLength !=0)
	{
	 arrayOfAlpha2.push("_ ");
	wordsLength--;
	}
	return p1Words
}
assert(wordsLength2==arrayOfAlpha2.length,"MultiPlayer: Player2: Check if generated word length equal to the length of given characters.");
assert(p2GuessWords()==localStorage.getItem("p2WordsKey"),"MultiPlayer: Test localStorage & Check player2 hiden word.");
</script>


<!-- Script -->
<script src="https://www.gstatic.com/firebasejs/5.9.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.9.2/firebase-auth.js"></script> 

<script>
	var config = {
    apiKey: "AIzaSyAFhZoGHpYmXbQSfKQ0Dm2CM4y3bl_QODU",
    authDomain: "hanglet-48169.firebaseapp.com",
    databaseURL: "https://hanglet-48169.firebaseio.com",
    projectId: "hanglet-48169",
    storageBucket: "",
    messagingSenderId: "363620412655"
  };
  firebase.initializeApp(config);
  //make auth and firestore references
  const auth = firebase.auth();

//listen for auth status changes
auth.onAuthStateChanged(function(user) {
  if (user) {
	// User is signed in.
	assert(user.email=="obamendoutoume98@gmail.com","Check if a user is logged in from database.");
    console.log("current user: "+user.email);
  } else {
	// No user is signed in.
    console.log("no user: "+user);
  }
});  

//login
function login(email,password){ 
 // sign up the user
  auth.signInWithEmailAndPassword(email, password).then(cred => {
	this.logout();
    }).catch(function(error) {
      var errorCode = error.code;
      var errorMessage = error.message;
      alert("Err: "+errorMessage);
    });
}
this.login("obamendoutoume98@gmail.com","123456");

//logout
//this.logout();
function logout(){ 
  auth.signOut().then((user) =>{
	assert(user==null,"Check if a user is logged out.");
console.log("log out");
  });
}
//multiplayer
assert(0==0,"Check if a score is generated after the game.");
assert(0==0,"Check if score is save in data base.");
/*Third release*/

  
</script>

<!--Other Script  -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src="./hangLetTesting.js"></script>
</body>

</html>
